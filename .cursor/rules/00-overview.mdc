---
description: Overview del proyecto y cómo usar las Rules. Siempre aplicar.
globs:
alwaysApply: true
---

# Proyecto
Sitio web profesional para abogado/despacho jurídico construido con **Astro 5** + **React** + **Tailwind CSS** + **shadcn/ui**. Arquitectura de **islas** para hidratar solo componentes interactivos. Objetivo: generar confianza, conversión y cumplir estándares legales.

# Comandos Principales
- **/scaffold** → Inicializa proyecto completo: Astro + React + Tailwind + shadcn/ui + estructura base
- **/setup legal** → Configura compliance legal: políticas, términos, GDPR, SSL
- **/setup business** → Implementa funcionalidades de negocio: citas, portal, formularios
- **/make component <Nombre>** → Genera componente siguiendo Design Tokens y A11y
- **/write copy <sección>** → Redacta contenido profesional (sin promesas/garantías)
- **/add page <nombre>** → Crea nueva página con layout y SEO
- **/wire chatbot** → Integra ChatbotWidget con disclaimers legales

# Arquitectura Técnica
- **Framework**: Astro 5 (SSG + islas)
- **UI**: React para interactividad, Tailwind CSS, shadcn/ui (Radix)
- **Tipografía**: `@tailwindcss/typography` para maquetar políticas y artículos legales
- **Hidratación**: `client:idle` (no crítica), `client:visible` (below fold), `client:load` (crítica)
- **Performance**: Core Web Vitals optimizado
- **SEO**: JSON-LD schema, meta tags, sitemap

# Principios Fundamentales
- **Accesibilidad**: WCAG 2.2 AA (contraste 4.5:1, navegación teclado, aria-labels)
- **Rendimiento**: LCP ≤ 2.5s, INP < 200ms, CLS ≤ 0.1
- **Seguridad**: HTTPS obligatorio, formularios seguros, validación
- **Legal**: Disclaimers apropiados, políticas de privacidad, términos de uso
- **UX**: Claridad, confianza, conversión, mobile-first

# Estructura de Archivos
```
src/
├── components/
│   ├── ui/ (shadcn components reutilizables)
│   ├── business/ (formularios y flujos conversión)
│   ├── legal/ (avisos, cookie consent)
│   ├── Navbar.tsx / Footer.astro / ChatbotWidget.tsx
├── layouts/
│   ├── BaseLayout.astro (estructura global + cookies + chatbot)
│   └── LegalLayout.astro (hero gradiente + artículo `prose`)
├── pages/
│   ├── index.astro
│   ├── contacto.astro
│   ├── derecho-*.astro (áreas de práctica)
│   ├── justicia-local.astro
│   └── legal/ (aviso, cookies, privacidad, términos)
├── content/
│   ├── areas/
│   └── insights/
└── styles/
    └── globals.css (tokens + formularios + overrides n8n)
```
